import{r,j as e}from"./react-CR1DJmsT.js";import{T as f}from"./index-x5JY4znm.js";import{S as u,L as g,u as _}from"./index-CoTTqD-c.js";import{S as v,A as y,P as N,a as S}from"./swiper-CIGBh5bM.js";import"./react-dom-BPGXo9ir.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-KkjoDBGO.js";import"./react-router-CB7Vnl-7.js";import"./@remix-run-CLdd7_31.js";import"./gsap-CQRXBOcR.js";import"./@firebase-CjYIGFut.js";import"./idb-BXWtuYvb.js";import"./firebase-h0QoVA0y.js";import"./react-redux-C-esxX_w.js";import"./use-sync-external-store-CMTFWgZY.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./web-vitals-CFZQyNxb.js";function L({project:t,isLazy:i}){const[n,l]=r.useState(!1),a=r.useRef(null),d=()=>{l(!0)};return r.useEffect(()=>{a.current&&n&&a.current.swiper.autoplay.start()},[n]),t?e.jsx(v,{ref:a,spaceBetween:30,centeredSlides:!0,autoplay:n?{delay:2500,disableOnInteraction:!1}:!1,pagination:{clickable:!0},navigation:!1,modules:[y,N],className:"mySwiper",children:t.images.map((o,m)=>e.jsx(S,{children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:t.sources[m],type:"image/webp"}),e.jsx("img",{src:o,alt:t.alt,width:927,height:425,onLoad:d,loading:i?"lazy":" ",decoding:"async"})]})},m))}):e.jsx(u,{})}function w({project:t,isLazy:i}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"project__item-layout layout",children:e.jsx(g,{data:t})}),e.jsx("div",{className:"project__item-photo",children:e.jsx(L,{project:t,isLazy:i})})]})}const Q=({projectsList:t,id:i})=>{const n=i==="Layouts",l=i==="Projects",[a,d]=r.useState([]),[o,m]=r.useState(n||l),[p,j]=r.useState(!1);r.useEffect(()=>{t.length&&(d(t),j(!0))},[t]);const c=r.useRef([]);c.current=[],_({refs:c,dataLoaded:p,options:a.length,isOpen:o});const x=s=>{s&&!c.current.includes(s)&&c.current.push(s)},h=()=>{m(s=>!s),o||(c.current=[])};return e.jsx("section",{className:"section projects",id:i,children:e.jsxs("div",{className:"projects__inner container",children:[e.jsxs("div",{className:"projects__title",onClick:h,children:[e.jsx(f,{text:i}),e.jsxs("div",{className:`toggle-icon ${o?"open":""}`,children:[e.jsx("div",{className:"line line1"}),e.jsx("div",{className:"line line2"})]})]}),e.jsx("div",{className:`projects__template ${o?"projects__template--disabled":""}`,children:e.jsx("p",{children:n?"Здесь можно посмотреть свёрстанные проекты":"Здесь можно посмотреть проекты, разработанные на React"})}),o&&e.jsx(e.Fragment,{children:!p&&!a.length?e.jsx(u,{}):e.jsx("ul",{className:"projects__list project",children:a.map(s=>e.jsxs("li",{id:s.path,className:"project__item grid grid--12",ref:x,children:[e.jsx(w,{project:s,isLazy:l}),e.jsxs("div",{className:"project__item-comment grid grid--12",children:[s.comments&&e.jsxs("div",{className:"project__item-note",children:["Comment:",e.jsx("p",{children:s.comments})]}),s.video&&e.jsx("div",{className:"project__item-video",children:e.jsxs("video",{width:"800",controls:!0,preload:"none",children:[e.jsx("source",{src:s.video,type:"video/mp4"}),"Ваш браузер не поддерживает видео."]})})]})]},s.id))})})]})})};export{Q as default};
