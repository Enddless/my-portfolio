import{R as v,a as N}from"./react-Cvg_wBWx.js";import"./use-sync-external-store-BXRuXKwd.js";var o="default"in v?N:v,S=Symbol.for("react-redux-context"),y=typeof globalThis<"u"?globalThis:{};function E(){if(!o.createContext)return{};const e=y[S]??(y[S]=new Map);let r=e.get(o.createContext);return r||(r=o.createContext(null),e.set(o.createContext,r)),r}var c=E();function C(e=c){return function(){return o.useContext(e)}}var M=C();function T(e){e()}function U(){let e=null,r=null;return{clear(){e=null,r=null},notify(){T(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const s=r={callback:t,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var g={notify(){},get:()=>[]};function D(e,r){let t,n=g,s=0,i=!1;function a(R){d();const L=n.subscribe(R);let x=!1;return()=>{x||(x=!0,L(),p())}}function f(){n.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return i}function d(){s++,t||(t=r?r.addNestedSub(l):e.subscribe(l),n=U())}function p(){s--,t&&s===0&&(t(),t=void 0,n.clear(),n=g)}function m(){i||(i=!0,d())}function w(){i&&(i=!1,p())}const b={addNestedSub:a,notifyNestedSubs:f,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:w,getListeners:()=>n};return b}var P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H=P?o.useLayoutEffect:o.useEffect;function O({store:e,context:r,children:t,serverState:n,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const a=o.useMemo(()=>{const u=D(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:i}},[e,n,s,i]),f=o.useMemo(()=>e.getState(),[e]);H(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),f!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,f]);const l=r||c;return o.createElement(l.Provider,{value:a},t)}var A=O;function h(e=c){const r=e===c?M:C(e),t=()=>{const{store:n}=r();return n};return Object.assign(t,{withTypes:()=>t}),t}var V=h();function j(e=c){const r=e===c?V:h(e),t=()=>r().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var B=j();export{A as P,B as u};
