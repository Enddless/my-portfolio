import{j as e,r as o}from"./react-CR1DJmsT.js";import{T as v}from"./index-DDb4Zkon.js";import{g as p,S as x}from"./gsap-CQRXBOcR.js";import{S as y,A as N,P as L,a as w}from"./swiper-CIGBh5bM.js";import"./react-dom-BPGXo9ir.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-KkjoDBGO.js";import"./react-router-CB7Vnl-7.js";import"./@remix-run-CLdd7_31.js";import"./@firebase-CjYIGFut.js";import"./idb-BXWtuYvb.js";import"./firebase-h0QoVA0y.js";import"./react-redux-C-esxX_w.js";import"./use-sync-external-store-CMTFWgZY.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./web-vitals-CFZQyNxb.js";function j(){return e.jsx("div",{className:"loader",children:e.jsxs("div",{className:"wrapLoader",children:[e.jsx("div",{className:"spinner one"}),e.jsx("div",{className:"spinner two"}),e.jsx("div",{className:"spinner three"}),e.jsx("div",{className:"spinner four"}),e.jsx("div",{className:"spinner five"}),e.jsx("div",{className:"spinner six"})]})})}p.registerPlugin(x);function S({refs:s,dataLoaded:t,options:i,isOpen:a}){const n=window.innerWidth<768;o.useEffect(()=>{a&&t&&i&&s.current.forEach(l=>{n?p.fromTo(l,{autoAlpha:0,y:"120"},{autoAlpha:1,y:"0",duration:1,scrollTrigger:{trigger:l,start:"top bottom",end:"-=300",toggleActions:"play none none reverse",scrub:.2}}):p.fromTo(l,{autoAlpha:0,y:"120"},{autoAlpha:1,y:"0",duration:1,scrollTrigger:{trigger:l,start:"top bottom",end:"-=250",toggleActions:"play none none reverse",scrub:.2}})}),x.refresh()},[s,t,i,a,n])}function h({href:s,text:t}){return e.jsxs("a",{href:s,className:"button",role:"button",target:"_blank",children:[e.jsx("span",{children:t}),e.jsx("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1.25 13.701C0.532561 14.1152 0.286748 15.0326 0.700962 15.75C1.11518 16.4674 2.03256 16.7133 2.75 16.299L1.25 13.701ZM20.7694 5.38823C20.9838 4.58803 20.5089 3.76552 19.7087 3.55111L6.66874 0.0570541C5.86854 -0.157359 5.04603 0.317515 4.83162 1.11771C4.61721 1.91791 5.09208 2.74042 5.89228 2.95483L17.4834 6.06066L14.3776 17.6518C14.1631 18.452 14.638 19.2745 15.4382 19.4889C16.2384 19.7033 17.0609 19.2284 17.2753 18.4282L20.7694 5.38823ZM2.75 16.299L20.0705 6.29904L18.5705 3.70096L1.25 13.701L2.75 16.299Z",fill:"white"})})]})}function b({data:s}){const t=s.stack.split(", ").map(i=>i.trim());return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"layout__item",children:e.jsx("p",{className:"layout__item-name",children:s.name})}),e.jsx("div",{className:"layout__item",children:e.jsx("p",{className:"layout__item-text",children:s.text})}),e.jsx("div",{className:"layout__item layout__item-stack",children:t.map((i,a)=>e.jsx("span",{children:i},a))}),e.jsxs("div",{className:"layout__item layout__item-links",children:[s.deploy!==""&&e.jsx(h,{text:"Deploy",href:s.deploy}),s.github!==""&&e.jsx(h,{text:"Github",href:s.github})]})]})}function C({project:s,isLazy:t}){const[i,a]=o.useState(!1),n=o.useRef(null),l=()=>{a(!0)};return o.useEffect(()=>{n.current&&i&&n.current.swiper.autoplay.start()},[i]),s?e.jsx(y,{ref:n,spaceBetween:30,centeredSlides:!0,autoplay:i?{delay:2500,disableOnInteraction:!1}:!1,pagination:{clickable:!0},navigation:!1,modules:[N,L],className:"mySwiper",children:s.images.map((c,m)=>e.jsx(w,{children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:s.sources[m],type:"image/webp"}),e.jsx("img",{src:c,alt:`это ${s.alt}-${m}`,width:927,height:425,onLoad:l,loading:t?"lazy":" ",decoding:"async"})]})},m))}):e.jsx(j,{})}function A({project:s,isLazy:t}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"project__item-layout layout",children:e.jsx(b,{data:s})}),e.jsx("div",{className:"project__item-photo",children:e.jsx(C,{project:s,isLazy:t})})]})}const Q=({projectsList:s,id:t})=>{const i=t==="Landings",a=t==="React_projects",[n,l]=o.useState([]),[c,m]=o.useState(i||a),[u,g]=o.useState(!1);o.useEffect(()=>{s.length&&(l(s),g(!0))},[s]);const d=o.useRef([]);d.current=[],S({refs:d,dataLoaded:u,options:n.length,isOpen:c});const f=r=>{r&&!d.current.includes(r)&&d.current.push(r)},_=()=>{m(r=>!r),c||(d.current=[])};return e.jsx("section",{className:"section projects",id:t,children:e.jsxs("div",{className:"projects__inner container",children:[e.jsxs("div",{className:"projects__title",onClick:_,children:[e.jsx(v,{text:a?"React projects":t}),e.jsxs("div",{className:`toggle-icon ${c?"open":""}`,children:[e.jsx("div",{className:"line line1"}),e.jsx("div",{className:"line line2"})]})]}),e.jsx("div",{className:`projects__template ${c?"projects__template--disabled":""}`,children:e.jsx("p",{children:i?"Здесь можно посмотреть свёрстанные проекты":"Здесь можно посмотреть проекты, разработанные на React"})}),c&&e.jsx(e.Fragment,{children:!u&&!n.length?e.jsx(j,{}):e.jsx("ul",{className:"projects__list project",children:n.map(r=>e.jsxs("li",{id:r.path,className:"project__item grid grid--12",ref:f,children:[e.jsx(A,{project:r,isLazy:a}),e.jsxs("div",{className:"project__item-comment grid grid--12",children:[r.comments&&e.jsxs("div",{className:"project__item-note",children:["Comment:",e.jsx("p",{children:r.comments})]}),r.video&&e.jsx("div",{className:"project__item-video",children:e.jsxs("video",{width:"800",controls:!0,preload:"none",children:[e.jsx("source",{src:r.video,type:"video/mp4"}),"Ваш браузер не поддерживает видео."]})})]})]},r.id))})})]})})};export{Q as default};
