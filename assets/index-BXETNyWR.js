import{j as e,r as i}from"./react-Cvg_wBWx.js";import{I as w,T as R}from"./index-HcgAUfzr.js";import{g as Z,S as B}from"./gsap-CQRXBOcR.js";import{S as z,E as I,P as F,a as T}from"./swiper-OVFNO804.js";import"./react-dom-CY2INnf7.js";import"./scheduler-8y5VlOXR.js";import"./@firebase-CjYIGFut.js";import"./idb-BXWtuYvb.js";import"./firebase-h0QoVA0y.js";import"./react-redux-BIdiAZN-.js";import"./use-sync-external-store-BYQYGHUW.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./web-vitals-CFZQyNxb.js";import"./react-router-dom-iQwc7hEL.js";import"./react-router-Dhdrxgag.js";import"./@remix-run-yBSJl1bv.js";function S(){return e.jsx("div",{className:"loader",children:e.jsxs("div",{className:"wrapLoader",children:[e.jsx("div",{className:"spinner one"}),e.jsx("div",{className:"spinner two"}),e.jsx("div",{className:"spinner three"}),e.jsx("div",{className:"spinner four"}),e.jsx("div",{className:"spinner five"}),e.jsx("div",{className:"spinner six"})]})})}Z.registerPlugin(B);function G({text:s,onClick:a}){return e.jsxs("button",{className:"button",onClick:a,children:[e.jsx("span",{children:s}),e.jsx("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1.25 13.701C0.532561 14.1152 0.286748 15.0326 0.700962 15.75C1.11518 16.4674 2.03256 16.7133 2.75 16.299L1.25 13.701ZM20.7694 5.38823C20.9838 4.58803 20.5089 3.76552 19.7087 3.55111L6.66874 0.0570541C5.86854 -0.157359 5.04603 0.317515 4.83162 1.11771C4.61721 1.91791 5.09208 2.74042 5.89228 2.95483L17.4834 6.06066L14.3776 17.6518C14.1631 18.452 14.638 19.2745 15.4382 19.4889C16.2384 19.7033 17.0609 19.2284 17.2753 18.4282L20.7694 5.38823ZM2.75 16.299L20.0705 6.29904L18.5705 3.70096L1.25 13.701L2.75 16.299Z",fill:"white"})})]})}function b({href:s,text:a}){return e.jsxs("a",{href:s,className:"button  button-link",role:"button",target:"_blank",children:[e.jsx("span",{children:a}),e.jsx("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1.25 13.701C0.532561 14.1152 0.286748 15.0326 0.700962 15.75C1.11518 16.4674 2.03256 16.7133 2.75 16.299L1.25 13.701ZM20.7694 5.38823C20.9838 4.58803 20.5089 3.76552 19.7087 3.55111L6.66874 0.0570541C5.86854 -0.157359 5.04603 0.317515 4.83162 1.11771C4.61721 1.91791 5.09208 2.74042 5.89228 2.95483L17.4834 6.06066L14.3776 17.6518C14.1631 18.452 14.638 19.2745 15.4382 19.4889C16.2384 19.7033 17.0609 19.2284 17.2753 18.4282L20.7694 5.38823ZM2.75 16.299L20.0705 6.29904L18.5705 3.70096L1.25 13.701L2.75 16.299Z",fill:"white"})})]})}function y({project:s,expandedProjectId:a,setExpandedProjectId:p,isProjectsList:n,openModal:d}){const l=s.stack.split(", ").map(r=>r.trim()),o=r=>{if(p(c=>c.includes(r)?c.filter(u=>u!==r):[...c,r]),a.includes(r)){const c=document.getElementById(r);if(c){const x=c.getBoundingClientRect().top+window.pageYOffset-50;window.scrollTo({top:x,behavior:"smooth"})}}},[g,f]=i.useState(!1),_=()=>{f(!0)},{setIdProject:v}=i.useContext(w);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`projects__item-content ${n&&"react__item-content"}'`,children:[e.jsxs("div",{className:"projects__item-content-name",onClick:()=>{d(),v(s.id)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"24",height:"24",className:"projects__item-content-view-image",children:e.jsx("path",{d:"M9,5.5c0-.83,.67-1.5,1.5-1.5s1.5,.67,1.5,1.5-.67,1.5-1.5,1.5-1.5-.67-1.5-1.5Zm15-.5v6c0,2.76-2.24,5-5,5H10c-2.76,0-5-2.24-5-5V5C5,2.24,7.24,0,10,0h9c2.76,0,5,2.24,5,5ZM7,11c0,.77,.29,1.47,.77,2.01l5.24-5.24c.98-.98,2.69-.98,3.67,0l1.04,1.04c.23,.23,.62,.23,.85,0l3.43-3.43v-.38c0-1.65-1.35-3-3-3H10c-1.65,0-3,1.35-3,3v6Zm15,0v-2.79l-2.02,2.02c-.98,.98-2.69,.98-3.67,0l-1.04-1.04c-.23-.23-.61-.23-.85,0l-4.79,4.79c.12,.02,.24,.02,.37,.02h9c1.65,0,3-1.35,3-3Zm-3.91,7.04c-.53-.15-1.08,.17-1.23,.7l-.29,1.06c-.21,.77-.71,1.42-1.41,1.81-.7,.4-1.51,.5-2.28,.29l-8.68-2.38c-1.6-.44-2.54-2.09-2.1-3.69l.96-3.56c.14-.53-.17-1.08-.7-1.23-.53-.14-1.08,.17-1.23,.7L.18,15.29c-.73,2.66,.84,5.42,3.5,6.15l8.68,2.38c.44,.12,.89,.18,1.33,.18,.86,0,1.7-.22,2.47-.66,1.16-.66,1.99-1.73,2.35-3.02l.29-1.06c.15-.53-.17-1.08-.7-1.23Z"})}),e.jsx("p",{children:s.name}),e.jsx("p",{className:"projects__item-content-see-text",children:"See photo"})]}),e.jsx("img",{src:s.preview,alt:`это ${s.alt}`,loading:"lazy",decoding:"async",onLoad:_})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`projects__item-content-links ${n&&"react__item-content-links"}`,children:[s.deploy!==""&&e.jsx(b,{text:"Deploy",href:s.deploy}),s.github!==""&&e.jsx(b,{text:"Github",href:s.github})]}),e.jsx("div",{className:`projects__item-content-stack ${n&&"react__item-content-stack"}`,children:l.map((r,c)=>e.jsx("span",{children:r},c))}),!n&&e.jsx(G,{text:a.includes(s.id)?"Свернуть":"Развернуть",onClick:()=>o(s.id)})]})]})}function O({projectsList:s,closeModal:a}){const{idProject:p}=i.useContext(w),n=s.find(l=>l.id===p),d=i.useRef(null);return n?e.jsxs(e.Fragment,{children:[e.jsx("form",{className:"mobile-overlay__close-button-wrapper",method:"dialog",children:e.jsx("button",{className:"mobile-overlay__close-button cross-button",type:"submit",onClick:a,children:e.jsx("span",{className:"visually-hidden",children:"Close navigation menu"})})}),n&&e.jsx(z,{ref:d,effect:"cards",grabCursor:!0,modules:[I,F],pagination:{clickable:!0},navigation:!1,className:"mySwiper",children:n.images.map((l,o)=>e.jsx(T,{children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:n.sources[o],type:"image/webp"}),e.jsx("img",{className:"projects__item-photo",src:l,alt:`это ${l}-${o}`,loading:"lazy",decoding:"async"})]})},o))})]}):e.jsx(S,{})}const le=({projectsList:s,id:a})=>{const p=a==="Landings",n=a==="React_projects",[d,l]=i.useState([]),[o,g]=i.useState(p||n),[f,_]=i.useState(!1),[v,r]=i.useState(3),[c,u]=i.useState([]),{setIdProject:L}=i.useContext(w),x=i.useRef();i.useEffect(()=>{s.length&&(l(s),_(!0))},[s]);const h=i.useRef([]);h.current=[];const N=t=>{t&&!h.current.includes(t)&&h.current.push(t)},k=()=>{g(t=>!t),o||(h.current=[])};i.useEffect(()=>{const t=()=>{r(window.innerWidth<767?2:3)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]);const P=((t,j)=>{const m=Array.from({length:j},()=>[]);return t.forEach((M,$)=>{m[$%j].push(M)}),m})(d,v),C=()=>{x.current.showModal()},E=()=>{x.current.close(),L("")};return e.jsx("section",{className:"section projects",id:a,children:e.jsxs("div",{className:"projects__inner container",children:[e.jsxs("div",{className:"projects__title",onClick:k,children:[e.jsx(R,{text:n?"React projects":a}),e.jsxs("div",{className:`toggle-icon ${o?"open":""}`,children:[e.jsx("div",{className:"line line1"}),e.jsx("div",{className:"line line2"})]})]}),e.jsx("div",{className:`projects__template ${o?"projects__template--disabled":""}`,children:e.jsx("p",{children:p?"Здесь можно посмотреть свёрстанные проекты":"Здесь можно посмотреть проекты, разработанные на React"})}),o&&e.jsx(e.Fragment,{children:!f&&!d.length?e.jsx(S,{}):n?e.jsx("ul",{className:`projects__list ${n&&"react__list grid grid--12"}`,children:d.map(t=>e.jsx("li",{id:t.id,className:`projects__item  ${c.includes(t.id)?"projects__item-expanded":""} ${n&&"react__item"}`,ref:N,children:e.jsx(y,{project:t,expandedProjectId:c,setExpandedProjectId:u,isProjectsList:n,openModal:C})},t.id))}):e.jsx("div",{className:"projects__wrapper",children:P.map((t,j)=>e.jsx("ul",{className:"projects__list",children:t.map(m=>e.jsx("li",{id:m.id,className:`projects__item  ${c.includes(m.id)?"projects__item-expanded":""} `,ref:N,children:e.jsx(y,{project:m,expandedProjectId:c,setExpandedProjectId:u,openModal:C})},m.id))},j))})}),e.jsx("dialog",{className:"mobile-overlay gallery-page",ref:x,children:e.jsx(O,{projectsList:s,closeModal:E})})]})})};export{le as default};
