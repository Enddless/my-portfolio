import{r as a,j as e}from"./react-Nrt_4u1E.js";import{T as f}from"./index-DCrSNeLf.js";import{S as p,L as g,u as _}from"./index-D_D_le8n.js";import{S as v,A as N,P as S,a as L}from"./swiper-AMu3MNlN.js";import"./prop-types-CqkleIqs.js";import"./react-dom-DvDsT2fA.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-D1g3hQIv.js";import"./react-router-CiNuqHBZ.js";import"./@remix-run-asPWV5H7.js";import"./react-router-hash-link-RNGMrpGM.js";import"./gsap-CQRXBOcR.js";import"./@firebase-CjYIGFut.js";import"./idb-BXWtuYvb.js";import"./firebase-h0QoVA0y.js";import"./react-redux-D8oxSgnt.js";import"./use-sync-external-store-D-WI0h6y.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./web-vitals-CFZQyNxb.js";function y({project:t}){const[i,l]=a.useState(!1),o=a.useRef(null),n=()=>{l(!0)};return a.useEffect(()=>{o.current&&i&&o.current.swiper.autoplay.start()},[i]),t?e.jsx(v,{ref:o,spaceBetween:30,centeredSlides:!0,autoplay:i?{delay:2500,disableOnInteraction:!1}:!1,pagination:{clickable:!0},navigation:!1,modules:[N,S],className:"mySwiper",children:t.images.map((m,r)=>e.jsx(L,{children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:t.sources[r],type:"image/webp"}),e.jsx("img",{src:m,alt:t.alt,width:927,height:425,onLoad:n,decoding:"async"})]})},r))}):e.jsx(p,{})}function w({project:t}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"project__item-description",children:e.jsx(g,{data:t})}),e.jsx("div",{className:"project__item-photo",children:e.jsx(y,{project:t})})]})}const V=({projectsList:t,id:i})=>{const l=i==="Layouts",o=i==="Projects",[n,m]=a.useState([]),[r,u]=a.useState(l||o),[d,j]=a.useState(!1);a.useEffect(()=>{t.length&&(m(t),j(!0))},[t]);const c=a.useRef([]);c.current=[],_({refs:c,dataLoaded:d,options:n.length,isOpen:r});const x=s=>{s&&!c.current.includes(s)&&c.current.push(s)},h=()=>{u(s=>!s),r||(c.current=[])};return e.jsx("section",{className:"section projects",id:i,children:e.jsxs("div",{className:"projects__inner container",children:[e.jsxs("div",{className:"projects__title",onClick:h,children:[e.jsx(f,{text:i}),e.jsxs("div",{className:`toggle-icon ${r?"open":""}`,children:[e.jsx("div",{className:"line line1"}),e.jsx("div",{className:"line line2"})]})]}),e.jsx("div",{className:`projects__template ${r?"projects__template--disabled":""}`,children:e.jsx("p",{children:l?"Здесь можно посмотреть свёрстанные проекты":"Здесь можно посмотреть проекты, разработанные на React"})}),r&&e.jsx(e.Fragment,{children:!d&&!n.length?e.jsx(p,{}):e.jsx("ul",{className:"projects__list project",children:n.map(s=>e.jsxs("li",{id:s.path,className:"project__item grid grid--12",ref:x,children:[e.jsx(w,{project:s}),e.jsxs("div",{className:"project__item-comment grid grid--12",children:[s.comments&&e.jsxs("div",{className:"project__item-note",children:["Comment:",e.jsx("p",{children:s.comments})]}),s.video&&e.jsx("div",{className:"project__item-video",children:e.jsxs("video",{width:"800",controls:!0,preload:"none",children:[e.jsx("source",{src:s.video,type:"video/mp4"}),"Ваш браузер не поддерживает видео."]})})]})]},s.id))})})]})})};export{V as default};
